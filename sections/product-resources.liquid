<script src="{{ 'Product.js' | asset_url }}" type="module" defer></script>
<link rel="stylesheet" href="{{ 'Product.css' | asset_url }}">
<link rel="stylesheet" href="{{ 'styles.css' | asset_url }}">
<script id="inline-json-product" type="application/json">
  {{ product | json }}
</script>
<script id="inline-json-product-medias" type="application/json">
[
  {%- for media in product.media -%}
    {% capture external_video %}
      {%- if media.host == 'youtube' -%}
        {{ media | external_video_url: autoplay: false, loop: loop, playlist: media.external_id | external_video_tag: class: video_class, loading: "lazy" }}
      {%- else -%}
        {{ media | external_video_url: autoplay: false, loop: loop | external_video_tag: class: video_class, loading: "lazy" }}
      {%- endif -%}
    {% endcapture %}
    {% capture normal_video %}
      {{ media | media_tag: image_size: "2048x", autoplay: false, loop: loop, controls: true, preload: "none" }}
    {% endcapture %}
    {% capture video_srcset %}
      {% if media.preview_image.width >= 288 %}{{ media.preview_image | image_url: width: 288 }} 288w,{% endif %}
      {% if media.preview_image.width >= 576 %}{{ media.preview_image | image_url: width: 576 }} 576w,{% endif %}
      {% if media.preview_image.width >= 550 %}{{ media.preview_image | image_url: width: 550 }} 550w,{% endif %}
      {% if media.preview_image.width >= 1100 %}{{ media.preview_image | image_url: width: 1100 }} 1100w,{% endif %}
      {{ media.preview_image | image_url }} {{ media.preview_image.width }}w
    {% endcapture %}
    {% raw %}{{% endraw %}
      "alt": "{{ option.name }}",
      "aspect_ratio": {{ media.aspect_ratio }},
      "external_id": {{ media.external_id | json }},
      "host": "{{ media.host }}",
      "id": {{ media.id }},
      "media_type": "{{ media.media_type }}",
      "position": {{ media.position }},
      "preview_image": {% raw %}{{% endraw %}
        "aspect_ratio": {{ media.preview_image.aspect_ratio }},
        "height": {{ media.preview_image.height }},
        "src": {{ media.preview_image.src | json }},
        "width": {{ media.preview_image.width }}
      {% raw %}}{% endraw %},
      "external_video": {{ external_video | strip_newlines | strip | json }},
      "normal_video": {{ normal_video | strip_newlines | strip | json }},
      "video_srcset": {{ video_srcset | strip_newlines | strip | json }}
    {% raw %}}{% endraw %}{% unless forloop.last %},{% endunless %}
  {%- endfor -%}
]
</script>
<script id="inline-json-product-options-with-values" type="application/json">
[
  {%- for option in product.options_with_values -%}
    {% raw %}{{% endraw %}
      "name": "{{ option.name }}",
      "position": {{ option.position }},
      "values": {{ option.values | json }},
      "selected_value": "{{ option.selected_value }}"
    {% raw %}}{% endraw %}{% unless forloop.last %},{% endunless %}
  {%- endfor -%}
]
</script>
<script id="inline-json-product-lang" type="application/json">
{% raw %}{{% endraw %}
  "add_to_cart": "{{ 'products.product.add_to_cart' | t }}",
  "sold_out": "{{ 'products.product.sold_out' | t }}"
{% raw %}}{% endraw %}
</script>
<script id="inline-json-product-url" type="application/json">
  {{ product.url | json }}
</script>
<script id="inline-json-product-variants" type="application/json">
  {{ product.variants | json }}
</script>
<script id="inline-json-product-available" type="application/json">
  {{ product.selected_or_first_available_variant | json }}
</script>
<script id="inline-json-product-quantity" type="application/json">
{% raw %}{{% endraw %}
  "label": "{{ 'products.product.quantity.label' | t }}",
  "decrease": "{{ 'products.product.quantity.decrease' | t: product: product.title | escape }}",
  "increase": "{{ 'products.product.quantity.increase' | t: product: product.title | escape }}",
  "offset": "{{ settings.inputs_shadow_vertical_offset }}"
{% raw %}}{% endraw %}
</script>
<script id="inline-json-additional-checkout-buttons" type="application/json">
{% capture additional_checkout_buttons %}
  {{ content_for_additional_checkout_buttons }}
{% endcapture %}
{% raw %}{{% endraw %}
  {{ additional_checkout_buttons | strip | json }}
{% raw %}}{% endraw %}
</script>

{% schema %}
{
  "name": "Product",
  "tag": "section",
  "class": "product-resources",
  "templates": [
    "product"
  ]
}
{% endschema %}